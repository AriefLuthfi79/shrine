<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Atomic Helpers · Shrine</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="The [`atomic_helpers`][atomic_helpers] plugin provides API for retrieving and"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Atomic Helpers · Shrine"/><meta property="og:type" content="website"/><meta property="og:url" content="https://shrinerb.com/"/><meta property="og:description" content="The [`atomic_helpers`][atomic_helpers] plugin provides API for retrieving and"/><meta property="og:image" content="https://shrinerb.com/img/logo.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://shrinerb.com/img/logo.png"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/zenburn.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-149836844-1', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/version.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo.png" alt="Shrine"/><h2 class="headerTitleWithLogo">Shrine</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/getting-started" target="_self">Guides</a></li><li class="siteNavGroupActive"><a href="/docs/plugins/activerecord" target="_self">Plugins</a></li><li class=""><a href="/docs/external/extensions" target="_self">External</a></li><li class=""><a href="https://discourse.shrinerb.com" target="_self">Discourse</a></li><li class=""><a href="https://github.com/shrinerb/shrine" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Other</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Attachment</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/plugins/activerecord">Active Record</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/column">Column</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/entity">Entity</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/model">Model</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/sequel">Sequel</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Flow</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/plugins/backgrounding">Backgrounding</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/presign_endpoint">Presign Endpoint</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/upload_endpoint">Upload Endpoint</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Processing</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/plugins/derivation_endpoint">Derivation Endpoint</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/derivatives">Derivatives</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Source</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/plugins/data_uri">Data URI</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/rack_file">Rack File</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/remote_url">Remote URL</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Validation</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/plugins/remove_invalid">Remove Invalid</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/validation">Validation</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/validation_helpers">Validation Helpers</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Metadata</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/plugins/add_metadata">Add Metadata</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/determine_mime_type">Determine MIME Type</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/infer_extension">Infer Extension</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/metadata_attributes">Metadata Attributes</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/refresh_metadata">Refresh Metadata</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/restore_cached_data">Restore Cached Data</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/signature">Signature</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/store_dimensions">Store Dimensions</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Downloading</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/plugins/download_endpoint">Download Endpoint</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/rack_response">Rack Response</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/tempfile">Tempfile</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Form</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/plugins/cached_attachment_data">Cached Attachment Data</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/form_assign">Form Assign</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/remove_attachment">Remove Attachment</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Settings</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/plugins/default_storage">Default Storage</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/default_url">Default URL</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/dynamic_storage">Dynamic Storage</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/multi_cache">Multi Cache</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/pretty_location">Pretty Location</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/upload_options">Upload Options</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/url_options">URL Options</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Other</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/docs/plugins/atomic_helpers">Atomic Helpers</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/included">Included</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/instrumentation">Instrumentation</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/keep_files">Keep Files</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/mirroring">Mirroring</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/shrinerb/shrine/edit/master/doc/plugins/atomic_helpers.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Atomic Helpers</h1></header><article><div><span><p>The <a href="https://github.com/shrinerb/shrine/blob/master/lib/shrine/plugins/atomic_helpers.rb"><code>atomic_helpers</code></a> plugin provides API for retrieving and
persisting attachments in a concurrency-safe way, which is useful when using
the <code>backgrounding</code> plugin. The database plugins (<code>activerecord</code> and <code>sequel</code>)
implement atomic promotion and atomic persistence on top of this plugin.</p>
<pre><code class="hljs css language-rb">plugin <span class="hljs-symbol">:atomic_helpers</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="retrieving"></a><a href="#retrieving" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Retrieving</h2>
<p>The <code>Attacher.retrieve</code> method provided by the plugin instantiates an attacher
from a record instance, attachment name and attachment data, asserting that the
given attachment data matches the attached file on the record.</p>
<pre><code class="hljs css language-rb"><span class="hljs-comment"># with a model instance</span>
Shrine::Attacher.retrieve(
  <span class="hljs-symbol">model:</span> photo,
  <span class="hljs-symbol">name:</span>  <span class="hljs-symbol">:image</span>,
  <span class="hljs-symbol">file:</span>  { <span class="hljs-string">"id"</span> =&gt; <span class="hljs-string">"abc123"</span>, <span class="hljs-string">"storage"</span> =&gt; <span class="hljs-string">"cache"</span> },
)
<span class="hljs-comment">#=&gt; #&lt;Shrine::Attacher ...&gt;</span>

<span class="hljs-comment"># with an entity instance</span>
Shrine::Attacher.retrieve(
  <span class="hljs-symbol">entity:</span> photo,
  <span class="hljs-symbol">name:</span>   <span class="hljs-symbol">:image</span>,
  <span class="hljs-symbol">file:</span>   { <span class="hljs-string">"id"</span> =&gt; <span class="hljs-string">"abc123"</span>, <span class="hljs-string">"storage"</span> =&gt; <span class="hljs-string">"cache"</span> },
)
<span class="hljs-comment">#=&gt; #&lt;Shrine::Attacher ...&gt;</span>
</code></pre>
<p>If the record has <code>Shrine::Attachment</code> included, the <code>#&lt;name&gt;_attacher</code> method
will be called on the record, which will return the correct attacher class.</p>
<pre><code class="hljs css language-rb"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Photo</span></span>
  <span class="hljs-keyword">include</span> ImageUploader::Attachment(<span class="hljs-symbol">:image</span>)
<span class="hljs-keyword">end</span>
</code></pre>
<pre><code class="hljs css language-rb">Shrine::Attacher.retrieve(<span class="hljs-symbol">model:</span> photo, <span class="hljs-symbol">name:</span> <span class="hljs-symbol">:image</span>, <span class="hljs-symbol">file:</span> { ... })
<span class="hljs-comment">#=&gt; #&lt;ImageUploader::Attacher ...&gt;</span>
</code></pre>
<p>Otherwise it will call <code>Attacher.from_model</code>/<code>Attacher.from_entity</code> from the
<code>model</code>/<code>entity</code> plugin, in which case you need to make sure to call
<code>Attacher.retrieve</code> on the appropriate attacher class.</p>
<pre><code class="hljs css language-rb">ImageUploader::Attacher.retrieve(<span class="hljs-symbol">entity:</span> photo, <span class="hljs-symbol">name:</span> <span class="hljs-symbol">:image</span>, <span class="hljs-symbol">file:</span> { ... })
<span class="hljs-comment">#=&gt; #&lt;ImageUploader::Attacher ...&gt;</span>
</code></pre>
<p>If the attached file on the record doesn't match the provided attachment data,
a <code>Shrine::AttachmentChanged</code> exception is raised. Note that metadata is
allowed to differ, Shrine will only compare location and storage of the file.</p>
<pre><code class="hljs css language-rb">photo.image_data <span class="hljs-comment">#=&gt; '{"id":"foo","storage":"store","metadata":{...}}'</span>

Shrine::Attacher.retrieve(
  <span class="hljs-symbol">model:</span> photo,
  <span class="hljs-symbol">name:</span> <span class="hljs-symbol">:image</span>,
  <span class="hljs-symbol">file:</span> { <span class="hljs-string">"id"</span> =&gt; <span class="hljs-string">"bar"</span>, <span class="hljs-string">"storage"</span> =&gt; <span class="hljs-string">"store"</span> },
)
<span class="hljs-comment"># ~&gt; Shrine::AttachmentChanged: attachment has changed</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="file-data"></a><a href="#file-data" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>File data</h3>
<p>The <code>Attacher#file_data</code> method can be used for sending the attached file data
into a background job. It returns only location and storage of the attached
file, leaving out any metadata or derivatives data that <code>Attacher#data</code> would
return. This way the background job payload is kept light.</p>
<pre><code class="hljs css language-rb">attacher.file_data <span class="hljs-comment">#=&gt; { "id" =&gt; "abc123", "storage" =&gt; "store" }</span>
</code></pre>
<p>This value can then be passed as the <code>:file</code> argument to
<code>Shrine::Attacher.retrieve</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="promoting"></a><a href="#promoting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Promoting</h2>
<p>The <code>Attacher#abstract_atomic_promote</code> method provided by the plugin promotes
the cached file to permanent storage, reloads the record to check whether the
attachment hasn't changed, and if not persists the promoted file.</p>
<p>Internally it calls <code>Attacher#abstract_atomic_persist</code> to do the persistence,
forwarding <code>:reload</code> and <code>:persist</code> options as well as a given block to it (see
the next section for more details).</p>
<pre><code class="hljs css language-rb"><span class="hljs-comment"># in the controller</span>
attacher.attach_cached(io)
attacher.cached? <span class="hljs-comment">#=&gt; true</span>
</code></pre>
<pre><code class="hljs css language-rb"><span class="hljs-comment"># in a background job</span>
attacher.abstract_atomic_promote(<span class="hljs-symbol">reload:</span> -&gt; (&amp;block) { ... }, <span class="hljs-symbol">persist:</span> -&gt; { ... })
attacher.stored? <span class="hljs-comment">#=&gt; true</span>
</code></pre>
<p>If the attachment has changed during promotion, the promoted file is deleted and
a <code>Shrine::AttachmentChanged</code> exception is raised.</p>
<p>If you want to execute some code after the attachment change check but before
persistence, you can pass a block:</p>
<pre><code class="hljs css language-rb">attacher.abstract_atomic_promote(**options) <span class="hljs-keyword">do</span> <span class="hljs-params">|reloaded_attacher|</span>
  <span class="hljs-comment"># this will be executed before persistence</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>Any additional options to <code>Attacher#abstract_atomic_promote</code> are forwarded to
<code>Attacher#promote</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="persisting"></a><a href="#persisting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Persisting</h2>
<p>The <code>Attacher#abstract_atomic_persist</code> method reloads the record to check
whether the attachment hasn't changed, and if not persists the attachment.</p>
<p>It requires reloader and persister to be passed in, as they will be specific to
the database library you're using. The reloader needs to call the given block
with the reloaded record, while the persister needs to persist the promoted
file.</p>
<pre><code class="hljs css language-rb">attacher.abstract_atomic_persist(
  <span class="hljs-symbol">reload:</span>  -&gt; (&amp;block) { ... }, <span class="hljs-comment"># call the block with reloaded record</span>
  <span class="hljs-symbol">persist:</span> -&gt; { ... },          <span class="hljs-comment"># persist promoted file</span>
)
</code></pre>
<p>To illustrate, this is how the <code>Attacher#atomic_promote</code> method provided by the
<code>sequel</code> plugin is implemented:</p>
<pre><code class="hljs css language-rb">attacher.abstract_atomic_persist(
  <span class="hljs-symbol">reload:</span> -&gt; (&amp;block) {
    attacher.record.db.transaction <span class="hljs-keyword">do</span>
      block.call attacher.record.dup.lock! <span class="hljs-comment"># the DB lock ensures no changes</span>
    <span class="hljs-keyword">end</span>
  },
  <span class="hljs-symbol">persist:</span> -&gt; {
    attacher.record.save_changes(<span class="hljs-symbol">validate:</span> <span class="hljs-literal">false</span>)
  }
)
</code></pre>
<p>By default, the file currently set on the attacher will be considered the
original file, and will be compared to the reloaded record. You can specify a
different original file:</p>
<pre><code class="hljs css language-rb">original_file = attacher.file

attacher.set(new_file)

attacher.abstract_atomic_persist(original_file, **options)
</code></pre>
<p>If you want to execute some code after the attachment change check but before
persistence, you can pass a block:</p>
<pre><code class="hljs css language-rb">attacher.abstract_atomic_persist(**options) <span class="hljs-keyword">do</span> <span class="hljs-params">|reloaded_attacher|</span>
  <span class="hljs-comment"># this will be executed before persistence</span>
<span class="hljs-keyword">end</span>
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/plugins/url_options"><span class="arrow-prev">← </span><span>URL Options</span></a><a class="docs-next button" href="/docs/plugins/included"><span>Included</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#retrieving">Retrieving</a><ul class="toc-headings"><li><a href="#file-data">File data</a></li></ul></li><li><a href="#promoting">Promoting</a></li><li><a href="#persisting">Persisting</a></li></ul></nav></div><footer class="nav-footer" id="footer" data-version="3.0.1"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo.png" alt="Shrine" width="66"/></a><div><h5>Docs</h5><a href="/guides">Guides</a><a href="/plugins">Plugins</a><a href="/external">External</a><a href="https://github.com/shrinerb/shrine/blob/master/CONTRIBUTING.md#readme">Contributing</a></div><div><h5>Community</h5><a href="https://discourse.shrinerb.com" target="_blank" rel="noreferrer noopener">Discourse</a><a href="https://stackoverflow.com/questions/tagged/shrine" target="_blank" rel="noreferrer noopener">Stack Overflow</a></div><div><h5>More</h5><a href="https://twin.github.io">Blog</a><a href="https://github.com/shrinerb/shrine">GitHub</a><a class="github-button" href="https://github.com/shrinerb/shrine" data-icon="octicon-star" data-count-href="/shrinerb/shrine/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><div class="social"><a href="https://twitter.com/shrine_rb" class="twitter-follow-button">Follow @shrine_rb</a></div></div></section><section class="copyright">Copyright © 2019 Janko Marohnić</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '09a11b10801874df7d226df4f2ce8e8f',
                indexName: 'shrinerb',
                inputSelector: '#search_input_react'
              });
            </script></body></html>